<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8">
  <title>Employee</title>
  <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css}" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
  <div class="m-5">
    <h2 class="fw-bold text-center">Lista de Empleados</h2>
    <!--Recibir el mensaje de confirmación de eliminación-->
    <!--Si el mensaje es "Se borró el empleado" considerar el color verde-->
    <!--Si el mensaje es "No se pudo borrar el empleado" considerar el color naranja-->
    <div th:if="${mensaje != null}" th:classappend="${mensaje == 'Se borró el empleado' ? 'alert alert-success' : 'alert alert-warning'}" role="alert">
      <strong th:text="${mensaje}"></strong>
    </div>

    <table class="table table-striped">
      <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Apellido y Nombre</th>
        <th>Correo</th>
        <th>Departamento</th>
        <th>Ciudad</th>
        <!--Botones de Acción-->
        <th></th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="empleado : ${empleados}">
        <td th:text="${empleado.getEmployeeId()}"></td>
        <td th:text="${empleado.getLastName()} + ', ' + ${empleado.getFirstName()}"></td>
        <td th:text="${empleado.getEmail()}"></td>
        <td th:text="${empleado.getDepartment().getDepartmentName()}"></td>
        <td th:text="${empleado.getDepartment().getLocation().getCity()}"></td>
        <td>
          <a th:href="@{/employee/info(id=${empleado.getEmployeeId()})}" class="btn btn-info">📝</a>
        </td>
        <td>
          <a th:href="@{/employee/delete(id=${empleado.getEmployeeId()})}" class="btn btn-danger">🗑️</a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</body>
</html>